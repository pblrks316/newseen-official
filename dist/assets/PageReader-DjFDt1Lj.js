import{b as E,_ as P,a as R,F as B,I as C}from"./IconNewSeen-DMU3Nfas.js";import{c,g as r,q as I,r as u,s as M,o as O,a as f,b as s,d,t as n,F as m,f as J,l as V,e as A,k as G,j as q}from"./index-BHL27wsW.js";import{l as g}from"./index-Bi9A1Cp9.js";const z={},L={class:"font-serif text-lg leading-relaxed my-6"};function H(_,i){return r(),c("p",L,[I(_.$slots,"default")])}const U=E(z,[["render",H]]),W={key:0,class:"bg-white min-h-screen font-sans"},Y={class:"sticky top-0 z-100"},K={class:"w-full py-12 sm:px-6 lg:px-40"},Q={class:"mt-4 text-4xl pb-6 py-2 md:text-5xl font-bold text-gray-900 font-heading tracking-tight"},X={class:"mt-4 text-xl pb-6 py-2 font-bold text-gray-900 font-heading tracking-tight"},Z={class:"flex justify-between items-center border-y border-gray-200 py-3 my-8 text-gray-500"},ee={class:"flex items-center gap-5"},te={class:"flex items-center gap-1.5 hover:text-gray-900"},se={class:"flex items-center gap-4"},ae={class:"text-gray-800 flex flex-col pt-6 gap-y-4"},oe={key:1,class:"flex items-center justify-center text-center h-screen py-10 text-slate-500"},ne={class:"animate-spin"},le={__name:"PageReader",setup(_){const i=u(!1),a=u(),y=V(),x=M(),l=u(),h=u(),v=x.params.id,k="https://api.newseen.com";function w(e){const o=`; ${document.cookie}`.split(`; ${e}=`);if(o.length===2)return o.pop().split(";").shift()}const $=e=>{const t=new Date(e),o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],p=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],j=o[t.getDay()],F=t.getDate(),T=p[t.getMonth()],D=t.getFullYear();return`${j}, ${F} ${T} ${D}`},b=async()=>{try{const e=await fetch(`${k}/api/myinfo`,{method:"GET",headers:{accept:"application/json"},credentials:"include"}),t=await e.json();if(e.status==401)l.value="1";else if(e.ok)t.username&&(l.value="2",h.value=t.username);else throw new Error(t.message||`Request gagal: ${e.status}`)}catch{l.value="1"}},N=e=>{g.error(`${e}`,{autoClose:2e3,position:g.POSITION.TOP_RIGHT})},S=async()=>{try{const e=await fetch(`https://api.newseen.com/api/berita/${v}`,{method:"GET",headers:{accept:"application/json",Authorization:`Bearer ${w("access_token")}`}}),t=await e.json();if(!e.ok)throw new Error(t.errors.password||"Failed while signing up, please try again.");a.value=t}catch(e){N(e),y.push("/")}finally{i.value=!0}};return O(()=>{S(),b()}),(e,t)=>(r(),c(m,null,[i.value?(r(),c("div",W,[s("nav",Y,[d(P,{status:l.value,user:h.value},null,8,["status","user"]),d(R)]),s("main",K,[s("h1",Q,n(a.value.judul),1),s("h3",X," Posted by: "+n(a.value.penulis.name)+" ("+n(a.value.penulis.id_user)+") ",1),s("div",Z,[s("div",ee,[s("div",te," Category: "+n(a.value.kategori.kategori),1)]),s("div",se," Published "+n($(a.value.kategori.created_at)),1)]),s("article",ae,[(r(!0),c(m,null,J(JSON.parse(a.value.isi),(o,p)=>(r(),A(U,{key:p},{default:G(()=>[q(n(o),1)]),_:2},1024))),128))])]),d(B)])):f("",!0),i.value?f("",!0):(r(),c("div",oe,[s("div",ne,[d(C)])]))],64))}};export{le as default};
